extends base

block title
  title= page.title + ' | ' + config.title

block content
  .post
    h1.post-title= page.title
    .post-meta
      if theme.comment
        include _partial/comment_count
        +comment-count(page.path)
      p
        span.date= page.date.format(theme.date_formats.post)
        if page.categories.length > 0
          span
            for category in page.categories.toArray()
              a.category(href=url_for(category.path))= category.name 
        if theme.busuanzi == true
          span
            i#busuanzi_container_page_pv
              i#busuanzi_value_page_pv
              i= '' + __('hits')
    .post-note
    .post-content
      != page.content
    if theme.copyright.enable
      .post-copyright
        blockquote
          p=  __("copyright_author") + ": " + config.author
          p= __("copyright_link") + ": " 
            a(href=url_for(config.url +'/'+ page.path))= config.url +'/'+ page.path
          p!= __("copyright_notice") + ": " + (theme.copyright.describe ? theme.copyright.describe : __("copyright_details"))
    include _partial/tag
    .post-share
      include _partial/share
    include _partial/post_nav
    #comments
      include _partial/comments

block tocmodel
  if theme.toc.enable == true 
    .widget(id='toc')
      .widget-title
        i(class='fa fa-fei')= __('contents')
      != toc(page.content, {list_number: theme.toc.number})

block qrcode
  != partial('_widget/qrcode.jade')

block attachments
  != partial('_widget/attachments.jade')

block clipboardjs
  if theme.cdn.enable
    script(type='text/javascript', src=theme.cdn.path + '/static/js/clipboard.min.js', async)
  else
    script(type='text/javascript', src=url_for(theme.js) + '/clipboard.min.js' + '?v=' + theme.version, async)

block mywidgetjs
  if theme.cdn.enable
    script(type='text/javascript', src=theme.cdn.path + '/static/js/mywidget.js', async)
  else
    script(type='text/javascript', src=url_for(theme.js) + '/mywidget.js' + '?v=' + theme.version, async)

block pageOnly
  if theme.toc.enable == true 
    if theme.cdn.enable
      script(type='text/javascript', src=theme.cdn.path + '/static/js/toctotop.js', async)
    else
      script(type='text/javascript', src=url_for(theme.js) + '/toctotop.js' + '?v=' + theme.version, async)
  else 
    if theme.cdn.enable
      script(type='text/javascript', src=theme.cdn.path + '/static/js/totop.js' , async)
    else
      script(type='text/javascript', src=url_for(theme.js) + '/totop.js' + '?v=' + theme.version, async)
  include _partial/comments_js
